<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Survey</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>
    <div class="container content">
    <h1><b>Survey</b></h1>
    <HR>
    <h3><b>About You</b></h3>
        <form>
            <div class="form-group">
                <label for="user">Name (Required)</label>
                <input id="user-name" type="text" class="form-control" placeholder="">
            </div>

            <div class="form-group">
                <label for="user">Link to Photo (Required)</label>
                <input id="user-photo" type="text" class="form-control" placeholder="">
            </div>

            <div class="form-group">
                <label for="question1">1. Do you feel that you are easily distracted?</label>
                <select class="form-control" id="question1">
                <option value="empty"></option>
                <option value="answer1">1 - Strongly Disagree</option>
                <option value="answer1">2</option>
                <option value="answer1">3 - Neither Disagree/Agree</option>
                <option value="answer1">4</option>
                <option value="answer1">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question2">2. Do you feel insecure as a person?</label>
                <select class="form-control" id="question2">
                <option value="empty"></option>
                <option value="answer2">1 - Strongly Disagree</option>
                <option value="answer2">2</option>
                <option value="answer2">3 - Neither Disagree/Agree</option>
                <option value="answer2">4</option>
                <option value="answer2">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question3">3. Do feel amusement from the misfortune of others?</label>
                <select class="form-control" id="question3">
                <option value="empty"></option>
                <option value="answer3">1 - Strongly Disagree</option>
                <option value="answer3">2</option>
                <option value="answer3">3 - Neither Disagree/Agree</option>
                <option value="answer3">4</option>
                <option value="answer3">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question4">4. Do you feel as if you have a rebelious personality?</label>
                <select class="form-control" id="question4">
                <option value="empty"></option>
                <option value="answer4">1 - Strongly Disagree</option>
                <option value="answer4">2</option>
                <option value="answer4">3 - Neither Disagree/Agree</option>
                <option value="answer4">4</option>
                <option value="answer4">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question5">5. Do you feel as if you have an overacheving personality?</label>
                <select class="form-control" id="question5">
                <option value="empty"></option>
                <option value="answer5">1 - Strongly Disagree</option>
                <option value="answer5">2</option>
                <option value="answer5">3 - Neither Disagree/Agree</option>
                <option value="answer5">4</option>
                <option value="answer5">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question6">6. Do you have a good Sense of Humor?</label>
                <select class="form-control" id="question6">
                <option value="empty"></option>
                <option value="answer6">1 - Strongly Disagree</option>
                <option value="answer6">2</option>
                <option value="answer6">3 - Neither Disagree/Agree</option>
                <option value="answer6">4</option>
                <option value="answer6">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question7">7. Do you feel like you have higher morals than others?.</label>
                <select class="form-control" id="question7">
                <option value="empty"></option>
                <option value="answer7">1 - Strongly Disagree</option>
                <option value="answer7">2</option>
                <option value="answer7">3 - Neither Disagree/Agree</option>
                <option value="answer7">4</option>
                <option value="answer7">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question8">8. Do you feel that you are an impulsive person?</label>
                <select class="form-control" id="question8">
                <option value="empty"></option>
                <option value="answer8">1 - Strongly Disagree</option>
                <option value="answer8">2</option>
                <option value="answer8">3 - Neither Disagree/Agree</option>
                <option value="answer8">4</option>
                <option value="answer8">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question9">9. Do you feel that you are a compassionate person?</label>
                <select class="form-control" id="question9">
                <option value="empty"></option>
                <option value="answer9">1 - Strongly Disagree</option>
                <option value="answer9">2</option>
                <option value="answer9">3 - Neither Disagree/Agree</option>
                <option value="answer9">4</option>
                <option value="answer9">5 - Strongly Agree</option>
                </select>
            </div>

            <div class="form-group">
                <label for="question10">10. Do you feel that you are and honest and sincere person?</label>
                <select class="form-control" id="question10">
                <option value="empty"></option>
                <option value="answer10">1 - Strongly Disagree</option>
                <option value="answer10">2</option>
                <option value="answer10">3 - Neither Disagree/Agree</option>
                <option value="answer10">4</option>
                <option value="answer10">5 - Strongly Agree</option>
                </select>
            </div>
        </form>
    </div>
    
    <div class="text-center">
    <button id="submitBtn" type="submit" class="btn btn-success btn-lg">Submit</button>
    </div>
                
    <!-- Modal after survey completion -->
    <div id="friendMatch" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3 class="modal-title">Your New Best Friend!</h1>
                </div>

                <div class="modal-body">
                    <h2 id="bestFriend"></h2>
                </div>

                <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Javascript starts here -->
    <script type="text/javascript">
        $('#submitBtn').on('click') {
            // Check if the required fields are filled in
            var isFilled = true;

            if ($('#user-name').val() || $('#user-photo').val() === '') {
                isFilled = false;
                alert("Please fill out the required fields.");
            } else {
                var userInput = {
                    name: $('#user-name').val().trim(),
                    image: $('#user-photo').val().trim(), 
                    scores: [
                        $('#question1').val(),
                        $('#question2').val(),
                        $('#question3').val(),
                        $('#question4').val(),
                        $('#question5').val(),
                        $('#question6').val(),
                        $('#question7').val(),
                        $('#question8').val(),
                        $('#question9').val(),
                        $('#question10').val(),
                    ]
                }
            };

            var currentURL = window.location.origin;

            $.post(currentURL + '/api/friends', userInput, function(data) {
                $('#friendMatch').modal('show');
            })
        };
    </script>

</body>
</html>